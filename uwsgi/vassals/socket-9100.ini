#
# http://uwsgi-docs.readthedocs.org/en/latest/Options.html
# http://projects.unbit.it/uwsgi/wiki/TipsAndTricks
# http://uwsgi-docs.readthedocs.org/en/latest/articles/TheArtOfGracefulReloading.html
# http://uwsgi-docs.readthedocs.org/en/latest/ThingsToKnow.html
#
[uwsgi]
project      = yabiadmin
deployment   = prod

env          = DJANGO_SETTINGS_MODULE=%(project).settings
env          = DEPLOYMENT=prod
env          = PRODUCTION=1
env          = DEBUG=1
env          = DBSERVER=db
env          = DBUSER=yabiapp
env          = DBPASS=yabiapp
env          = DBNAME=yabiapp
env          = CELERY_BROKER=amqp://guest:guest@mq:5672//
env          = MEMCACHE=cache:11211
env          = WRITABLE_DIRECTORY=/data
env          = STATIC_ROOT=/data/static
env          = MEDIA_ROOT=/data/static/media
env          = LOG_DIRECTORY=/data/log
env          = SCRIPT_NAME=/app

procname     = %(project)-%(deployment)-%n
socket       = 0.0.0.0:9100

# Run 'uwsgitop :9101'
stats        = 0.0.0.0:9101

chdir        = /app/%(project)/
module       = django.core.handlers.wsgi:WSGIHandler()
touch-reload = ../uwsgi/vassals/%n.ini
static-map   = /static=static

processes    = 4
threads      = 2
master       = True
vacuum       = True
