baat

	child nodes
		job

	attributes
		none

job
	child nodes
		inputFile
		outputFile
        batchOnParameter
		inputFiletypes
		outputFiletypes
		parameterList
		parameterAliasList
		grendel
    	priority
    	executionHost
    	batchNumber
	    status
	    startTime
	    stopTime
	    submittedTime
	    submitUser
	    submitLabel

	attributes
		toolPath - the path on the executing machine to the tool i.e. /usr/local/grendel/bin/cross_matchWrapper
		toolName - name for use with in JS (?)
		displayName - name that will appear in front end
		description - description shown in front end
		

inputFile - used by grendel
	child nodes
	attributes


outputFile - used by grendel
	child nodes
	attributes

batchOnParameter - allow batching on a key parameter
    child nodes
    attributes
        name - the name of the variable to use for batching

inputFiletypes
	child nodes
		extension

	attributes
		requiresInput - (true/false) must this tool have some input, used by js
		acceptsInput - (true/false) can this tool accept input, used by js


extension - a filetype extension accepted by a tool - fa
	child nodes
	attributes
		mustExist (true/false) - this is for assertions that run after a job is staged out. if mustexist=true then the job will fail if that file type is missing.

outputFiletypes
	child nodes
		extension - a filetype extension for the output of this tool i.e. fa	

	attributes
		filePassThru - (true/false) will this tool pass its input files on as output files
		symlinkOutputDir - (true/false) should the output directory of this tool be a symlink to that of the previous tool


parameterList
	child nodes
		parameter

	attributes

parameter
	child nodes
		inputExtension
		outputExtension

	attributes
		rank
		switchUse
			both
			valueOnly
			switchOnly
			combined - similar to both except there is no space between the switch and its value (currently only supported by grendel)

		switch
		mandatory
		filter - any text manipulation that should be applied to the value of this parameter
			(remove anything that looks like a path from the value?)
			prependUserDir - for the current user, prepend their user directory to the value
			prependRootDir - prepend the root yabi directory
			../../ - prepend a ../../, which basically means the file is found in the workflow's path

		sourceParam - you can specify another parameter from which this one derives its value (ie if you specify -i then the value of this param is the same as the value for -i)
		appendString - if sourceParam is specified, this is added to the end of the value
		extensionParam - if sourceParam is specified, the extension of the value is replaced with this extension
		inputFile (yes) indicates that it is an input file rather than a string
		inputType
		outputFile
		value
		primaryExtension - used in conjunction with batchOnParameter, this tells this parameter to only accept files of a certain extension type

inputExtension - used to allow common naming schemes for input files. if the parameter is specified as 'input' then this will be expanded out to 'input.ext' if there is an inputExtension of 'ext' specified. brought over from grendel
	child nodes
	attributes

outputExtension - used to specify the expected outputs based on the input
name. more of a grendel legacy
	child nodes
	attributes



parameterAliasList - grendel option. used to specify 'aliases' that are used for commonly used options... eg '-mouse' becomes '-genus mus_musculus'. not used by middleware
	child nodes
	attributes


grendel - the grendel node stores options that are specific to grendel. eg.  'eric', which implies that the results should be imported into son of eric
	child nodes
	attributes


priority - grendel priority, always left at default (-10)
	child nodes
	attributes


executionHost - unused
	child nodes
	attributes


batchNumber - unused
	child nodes
	attributes


status - unused by middleware, used by grendel for overall job status
	child nodes
	attributes


startTime - unused by middleware, used by grendel for accounting
	child nodes
	attributes


stopTime - unused by middleware, used by grendel for accounting
	child nodes
	attributes


submittedTime - unused by middleware, used by grendel for accounting
	child nodes
	attributes


submitUser - set to the username of the current user
	child nodes
	attributes


submitLabel - used to specify the soe eric import group
	child nodes
	attributes





Varibles set via template?
--------------------------------------------------
batchOnParameter - can be deprecated, as there is now a batchOnParameter XML node in the BAAT file
blastAddToSOE - this needs to be handled separately because of the way grendel deals with the 'eric' parameters as opposed to normal params
jobType - the default if this is not specified is 'grendel', we may change the default when new cluster comes online






